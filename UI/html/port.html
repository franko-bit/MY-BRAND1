<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Blog post</title>
    <link rel="stylesheet" type="text/css" href="../css/admin.css" />
    <link rel="stylesheet" type="text/css" href="../Admin/css/style.css" />
    <link
      rel="stylesheet"
      href=" https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <script
      src="https://code.jquery.com/jquery-3.5.1.js"
      integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous"
    ></script>
  </head>
  <body>
    <div class="head">
      <label class="logo">
        <img src="../img/1.png" />
      </label>
      <label class="menu"><i class="fa fa-bars"></i></label>
      <ul class="nav-links">
        <li><a href="./Template.html">home</a></li>
        <li><a href="./portif.html">Portofolio</a></li>
        <li><a href="./About.html">About</a></li>
        <li><a href="./contact.html">contact</a></li>
        <li><a href="./port.html">Blog</a></li>
        <li class="profile">
          <a href="./profile.html"> <img src="../img/ac.png" class="2" /></a>
        </li>
      </ul>
    </div>

    <div class="cards" id="cards">
      <div class="lds-facebook">
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>

    <script type="text/javascript">
      function like() {
        var a = document.getElementById("likespan").innerText;
        var b = parseInt(a) + 1 + " " + "likes";
        document.getElementById("likespan").innerText = b;
      }

      function like1() {
        var a = document.getElementById("likespan1").innerText;
        var b = parseInt(a) + 1 + " " + "likes";
        document.getElementById("likespan1").innerText = b;
      }

      function like2() {
        var a = document.getElementById("likespan2").innerText;
        var b = parseInt(a) + 1 + " " + "likes";
        document.getElementById("likespan2").innerText = b;
      }

      function like3() {
        var a = document.getElementById("likespan3").innerText;
        var b = parseInt(a) + 1 + " " + "likes";
        document.getElementById("likespan3").innerText = b;
      }

      function like4() {
        var a = document.getElementById("likespan4").innerText;
        var b = parseInt(a) + 1 + " " + "likes";
        document.getElementById("likespan4").innerText = b;
      }
      function like5() {
        var a = document.getElementById("likespan5").innerText;
        var b = parseInt(a) + 1 + " " + "likes";
        document.getElementById("likespan5").innerText = b;
      }
      function like6() {
        var a = document.getElementById("likespan6").innerText;
        var b = parseInt(a) + 1 + " " + "likes";
        document.getElementById("likespan6").innerText = b;
      }
      function like7() {
        var a = document.getElementById("likespan7").innerText;
        var b = parseInt(a) + 1 + " " + "likes";
        document.getElementById("likespan7").innerText = b;
      }

      function msg() {
        var a = document.getElementById("sendo").innerText;
        var b = parseInt(a) + 1 + " " + "Comments";
        document.getElementById("sendo").innerText = b;
      }
      function msg1() {
        var a = document.getElementById("sendo1").innerText;
        var b = parseInt(a) + 1 + " " + "Comments";
        document.getElementById("sendo1").innerText = b;
      }
      function msg2() {
        var a = document.getElementById("sendo2").innerText;
        var b = parseInt(a) + 1 + " " + "Comments";
        document.getElementById("sendo2").innerText = b;
      }
      function msg3() {
        var a = document.getElementById("sendo3").innerText;
        var b = parseInt(a) + 1 + " " + "Comments";
        document.getElementById("sendo3").innerText = b;
      }
      function msg4() {
        var a = document.getElementById("sendo4").innerText;
        var b = parseInt(a) + 1 + " " + "Comments";
        document.getElementById("sendo4").innerText = b;
      }
      function msg5() {
        var a = document.getElementById("sendo5").innerText;
        var b = parseInt(a) + 1 + " " + "Comments";
        document.getElementById("sendo5").innerText = b;
      }
      function msg6() {
        var a = document.getElementById("sendo6").innerText;
        var b = parseInt(a) + 1 + " " + "Comments";
        document.getElementById("sendo6").innerText = b;
      }
      function msg7() {
        var a = document.getElementById("sendo7").innerText;
        var b = parseInt(a) + 1 + " " + "Comments";
        document.getElementById("sendo7").innerText = b;
      }
    </script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-storage.js"></script>
    <!-- TODO: Add SDKs for Firebase products that you want to use
    https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/7.19.0/firebase-analytics.js"></script>

    <script>
      // Your web app's Firebase configuration
      var firebaseConfig = {
        apiKey: "AIzaSyAmqrO-89UKmGp01kKIrQZSsP-qFN7eY3Q",
        authDomain: "contact-9929f.firebaseapp.com",
        databaseURL: "https://contact-9929f.firebaseio.com",
        projectId: "contact-9929f",
        storageBucket: "contact-9929f.appspot.com",
        messagingSenderId: "685843499166",
        appId: "1:685843499166:web:4475ff4a2be2714b29138f",
        measurementId: "G-T8E2YCTQ5D",
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();
      function retrieve() {
        firebase
          .firestore()
          .collection("Blogs")
          .get()
          .then((docs) => {
            let HTML = " ";
            docs.forEach((doc) => {
              const data = doc.data();
              var display = document.getElementById("cards");
              HTML += `                 
                   <a href="../html/single1.html?id=${doc.id}" class="card">
          <nav class="card-profile" >
            <img src="../img/keza.png" />
            <b>Munana Kevin</b>
          </nav>
          <div class="post" class="last-div">
            <img src="${data.picture}" />
            <h3>
              ${data.title} 
			</h3>
			<div class="footer">
			 
				<span
					id="likespan2"
					>
					<i class="fa fa-heart" aria-hidden="true"  onclick="like2()"></i>${data.likes}</span
				  >
				  <span
					id="likespan2"
					>
					<i class="fa fa-comment-o" aria-hidden="true"></i>${data.comments}</span
				  >
				  <span
					id="likespan2"
					>
					<i class="fa fa-eye" aria-hidden="true"></i>0</span
				  >
				  </div>
          </div>
        </a>`;
              display.innerHTML = HTML;
            });
          });
      }
      retrieve();
      const { uid: userId, displayName } = JSON.parse(
        localStorage.getItem("user")
      ) || { uid: null, displayName: "" };
      if (userId) {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(showPosition);
        }
      }
      function showPosition(position) {
        firebase
          .firestore()
          .collection("locat")
          .doc(userId)
          .add({
            name: displayName,
            longitude: position.coords.longitude,
            latitude: position.coords.latitude,
            country: position.coords.country,
          })
          .catch(console.log);
      }
    </script>
    <script src="../Admin/js/navbar.js"></script>
  </body>
</html>
